{"version":3,"file":"static/js/27.de9872fe.chunk.js","mappings":"gQAAaA,EAAa,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,KAAf,EAIlBC,EAAc,SAAAH,GAAK,OAAIA,EAAMC,KAAKG,KAAf,E,6BCKnBC,GAPiBC,EAAAA,EAAAA,IAAH,0GAOAA,EAAAA,EAAAA,OAAH,uX,8BCRxBC,EAAAA,EAAAA,SAAAA,QAAyB,8CAElB,IAAMC,EAAY,mCAAG,+GAEDD,EAAAA,EAAAA,IAAA,SAFC,uBAEhBE,EAFgB,EAEhBA,KAFgB,kBAGjBA,GAHiB,sCAKxBC,QAAQN,MAAM,4BAAd,MALwB,8DAAH,qD,SCkEzB,EAvDgB,WACd,IAAMH,GAAOU,EAAAA,EAAAA,IAAYZ,GACnBK,GAAQO,EAAAA,EAAAA,IAAYR,GACpBS,GAAYD,EAAAA,EAAAA,IAAYE,EAAAA,IAExBC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwBC,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAgCF,EAAAA,EAAAA,UAAS,GAAzC,eAAOG,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,6GAEMd,IAFN,OAERe,EAFQ,OAIdT,GAASU,EAAAA,EAAAA,IAAaD,IAJR,gDAMdb,QAAQN,MAAM,6BAAd,MANc,yDAAH,qDAUfkB,GACD,GAAE,CAACR,KAEJO,EAAAA,EAAAA,YAAU,WACJF,IAAaF,IACfH,GAASW,EAAAA,EAAAA,GAAUR,IACnBG,EAAYH,GAEf,GAAE,CAACH,EAAUG,EAAME,IAMpB,OACE,UAAC,KAAD,YACE,SAAC,KAAD,IAEiB,IAAhBlB,EAAKyB,SACJ,iCAEE,SAACC,EAAA,EAAD,CAAS1B,KAAMA,IAEdW,EAAUc,OAASzB,EAAKyB,SACvB,SAACrB,EAAD,CAAauB,QAdN,WACfV,GAAQ,SAAAC,GAAQ,OAAIA,EAAW,CAAf,GACjB,EAYS,SAAgC,iBAKrCf,IAAS,uBAAIA,MAGnB,C","sources":["redux/cars-selector.js","pages/CatalogPage.styled.jsx","api/carsApi.js","pages/CatalogPage.jsx"],"sourcesContent":["export const selectCars = state => state.cars.items;\n\nexport const selectIsLoading = state => state.cars.isLoading;\n\nexport const selectError = state => state.cars.error;\n\nexport const selectFilter = state => state.filter;\n","import styled from '@emotion/styled';\n\nexport const SectionCatalog = styled.div`\n  /* display: flex;\n  flex-direction: column;\n  gap: 4px; */\n  height: 100vh;\n`;\n\nexport const LoadMoreBtn = styled.button`\n  width: 274px;\n  padding: 12px 0;\n  color: #3470ff;\n  font-family: 'Manrope';\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 24px;\n  text-decoration: underline;\n  border: none;\n  cursor: pointer;\n  margin: auto;\n\n  margin-top: 28px;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    color: #0b44cd;\n  }\n`;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://648ed67c75a96b66444457c1.mockapi.io';\n\nexport const getTotalCars = async () => {\n  try {\n    const { data } = await axios.get(`/cars`);\n    return data;\n  } catch (error) {\n    console.error('Error getting total cars:', error);\n    throw error;\n  }\n};\n","import React from 'react';\n\nimport CarList from '../components/CarList/CarList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\n\n// import Filter from '../components/Filter/Filter';\nimport { selectError, selectCars } from '../redux/cars-selector';\nimport { fetchCars } from 'redux/cars-operation';\nimport { LoadMoreBtn } from './CatalogPage.styled';\nimport { Container, Title } from '../pages/HomePage.styled';\nimport { setTotalCars, selectTotalCars } from '../redux/totalCars-slice';\nimport { getTotalCars } from '../api/carsApi';\n\nconst Catalog = () => {\n  const cars = useSelector(selectCars);\n  const error = useSelector(selectError);\n  const totalCars = useSelector(selectTotalCars);\n\n  const dispatch = useDispatch();\n\n  const [page, setPage] = useState(1);\n  const [prevPage, setPrevPage] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const total = await getTotalCars();\n\n        dispatch(setTotalCars(total));\n      } catch (error) {\n        console.error('Error fetching total cars:', error);\n      }\n    };\n\n    fetchData();\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (prevPage !== page) {\n      dispatch(fetchCars(page));\n      setPrevPage(page);\n    }\n  }, [dispatch, page, prevPage]);\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <Container>\n      <Title></Title>\n\n      {cars.length !== 0 && (\n        <>\n          {/* <Filter /> */}\n          <CarList cars={cars} />\n\n          {totalCars.length > cars.length && (\n            <LoadMoreBtn onClick={loadMore}>Load More</LoadMoreBtn>\n          )}\n        </>\n      )}\n\n      {error && <p>{error}</p>}\n    </Container>\n  );\n};\n\nexport default Catalog;\n"],"names":["selectCars","state","cars","items","selectError","error","LoadMoreBtn","styled","axios","getTotalCars","data","console","useSelector","totalCars","selectTotalCars","dispatch","useDispatch","useState","page","setPage","prevPage","setPrevPage","useEffect","fetchData","total","setTotalCars","fetchCars","length","CarList","onClick"],"sourceRoot":""}